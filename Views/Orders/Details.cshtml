@model cwagnerShoppingApp.Models.CodeFirst.Order

@{
    ViewBag.Title = "Details";
}

<div class="InnerContent">
    <h2>Details</h2>

    <div>
        <h4>Order</h4>
        <hr />
        <dl class="dl-horizontal">
            <dt>
                @Html.DisplayNameFor(model => model.Address)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.Address)
            </dd>

            <dt>
                @Html.DisplayNameFor(model => model.City)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.City)
            </dd>

            <dt>
                @Html.DisplayNameFor(model => model.State)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.State)
            </dd>

            <dt>
                @Html.DisplayNameFor(model => model.ZipCode)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.ZipCode)
            </dd>

            <dt>
                @Html.DisplayNameFor(model => model.Country)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.Country)
            </dd>

            <dt>
                @Html.DisplayNameFor(model => model.Phone)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.Phone)
            </dd>

            <dt>
                @Html.DisplayNameFor(model => model.Total)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.Total)
            </dd>

            <dt>
                @Html.DisplayNameFor(model => model.OrderDate)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.OrderDate)
            </dd>

            <dt>
                @Html.DisplayNameFor(model => model.CustomerId)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.CustomerId)
            </dd>

            <dt>
                @Html.DisplayNameFor(model => model.OrderDetails)
            </dt>

            <dd>
                <table class="table">
                    <tr>
                        <th>
                        </th>
                        <th>
                            Item
                        </th>
                        <th>
                            Quantity
                        </th>
                        <th>
                            Price
                        </th>
                    </tr>
                    @foreach (var orderItem in Model.OrderItems)
                    {
                        <tr>
                            <td>
                                <img class="img-responsive" src="@Url.Content(orderItem.Item.MediaURL)" />
                            </td>
                            <td>
                                @Html.DisplayFor(OrderItem => orderItem.Item.Name)
                            </td>
                            <td>
                                @Html.DisplayFor(OrderItem => orderItem.Quantity)
                            </td>
                            <td>
                                @($"{orderItem.UnitPrice * orderItem.Quantity:C}")
                            </td>
                        </tr>
                    }
                </table>

            </dd>

        </dl>
    </div>
    <div>
        @if (Model.Completed)
        {
            @Html.ActionLink("Confirm Order", "OrderConfirm", "Orders", new { Completed = true, id = Model.Id }, new { @class = "btn btn-default btn-md disabled" })
        }
        else
        {
        @Html.ActionLink("Confirm Order", "OrderConfirm", "Orders", new { Completed = true, id = Model.Id }, new { @class = "btn btn-default btn-md active" })
         }
    </div>
    <p>
        @Html.ActionLink("Edit", "Edit", new { id = Model.Id }) |
        @Html.ActionLink("Back to List", "Index")
    </p>
</div>